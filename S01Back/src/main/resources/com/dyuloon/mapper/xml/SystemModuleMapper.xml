<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dyuloon.mapper.SystemModuleMapper">

    <!-- 根据模块代码获取模块信息 -->
    <select id="selectByModuleCode" resultType="com.dyuloon.entity.SystemModule">
        SELECT id, module_code as moduleCode, module_name as moduleName, 
               description, icon, port, url, status,
               created_at as createdAt, updated_at as updatedAt
        FROM system_modules 
        WHERE module_code = #{moduleCode} AND status = 1
    </select>

    <!-- 根据分类名称获取模块列表 -->
    <select id="selectByCategoryName" resultType="com.dyuloon.entity.SystemModule">
        SELECT id, module_code as moduleCode, module_name as moduleName,
               description, icon, port, url, status, category_name as categoryName,
               created_at as createdAt, updated_at as updatedAt
        FROM system_modules
        WHERE category_name = #{categoryName} AND status = 1
    </select>

</mapper>
